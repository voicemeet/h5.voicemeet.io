System.register(["./logo-dark-legacy-BbTVHmQS.js","./index-legacy-CbTpaqwA.js","./index-legacy-BftmhdB9.js","./index-legacy-Cz3abMB0.js","./route-block-legacy-LtztSDKr.js"],function(e,l){"use strict";var a,n,o,s,t,r,u,d,i,c,m,p,g,y,v,f,h,w,x,b,j,q,V,_,k,$,E;return{setters:[e=>{a=e.l,n=e.a,o=e.F,s=e._},e=>{t=e.d,r=e.u,u=e.f,d=e.ay,i=e.j,c=e.az,m=e.H,p=e.aA,g=e.a,y=e.o,v=e.h,f=e.g,h=e.e,w=e.m,x=e.w,b=e.an,j=e.ao,q=e.t,V=e.y,_=e.v,k=e.aB},null,e=>{$=e.F},e=>{E=e.b}],execute:function(){const l={class:"layout-bg m-x-a p-[16px] text-center flex-1 w-7xl"},P={class:"mb-32 mt-20"},S={class:"rounded-3xl overflow-hidden"},C={class:"mt-16 rounded-3xl overflow-hidden"},F={class:"mt-16"},R=e("default",t({__name:"index",setup(e){const{t:t}=r(),E=u(),R=d(),U=i(!1),z=i(c.value);m(()=>c.value,e=>{z.value=e});const A=p({username:"",password:""}),B=p({username:[{validator:function(e){return e?/^1[3-9]\d{9}$/.test(A.username)?null:t("login.pleaseEnterCorrectPhone"):t("login.pleaseEnterPhone")}}],password:[{required:!0,message:t("login.pleaseEnterPassword")}]});async function H(e){try{U.value=!0,await R.login({...A,...e});const{redirect:l,...a}=E.currentRoute.value.query;E.push({path:l||k,query:{...a}})}finally{U.value=!1}}function D(){const e=E.currentRoute.value.query;E.push({name:"sms-login",query:e})}return(e,t)=>{const r=w,u=$,d=b,i=o,c=s;return y(),g("div",l,[v("div",P,[f(r,{src:h(z)?h(a):h(n),round:"",class:"rounded-full h-120 w-120",alt:"brand logo"},null,8,["src"])]),f(i,{model:h(A),rules:h(B),"validate-trigger":"onSubmit",onSubmit:H},{default:x(()=>[v("div",S,[f(u,{modelValue:h(A).username,"onUpdate:modelValue":t[0]||(t[0]=e=>h(A).username=e),rules:h(B).username,name:"username",type:"tel",placeholder:e.$t("login.phone")},null,8,["modelValue","rules","placeholder"])]),v("div",C,[f(u,{modelValue:h(A).password,"onUpdate:modelValue":t[1]||(t[1]=e=>h(A).password=e),type:"password",rules:h(B).password,name:"password",placeholder:e.$t("login.password")},null,8,["modelValue","rules","placeholder"])]),v("div",F,[f(d,{loading:h(U),type:"primary","native-type":"submit",round:"",block:""},{default:x(()=>[j(q(e.$t("login.login")),1)]),_:1},8,["loading"])])]),_:1},8,["model","rules"]),f(c,{block:"",style:V({"margin-top":h(_)(18)}),onClick:D},{default:x(()=>[j(q(e.$t("login.login-with-phone")),1)]),_:1},8,["style"])])}}}));"function"==typeof E&&E(R)}}});
