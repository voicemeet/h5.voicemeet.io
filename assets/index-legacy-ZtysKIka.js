System.register(["./index-legacy-Q2OzPyub.js","./index-legacy-N-nTIPpg.js"],function(e,t){"use strict";var a,l,r,n,o,i,s,u,c,d,g,f,m,p,v,h,b,y,x,k,S,w,C,M,V,I,B,A,E,z,T,$,L,P,W,j,q,F,H;return{setters:[e=>{a=e.a6,l=e.aV,r=e.a3,n=e.aW,o=e.aX,i=e.aY,s=e.d,u=e.L,c=e.M,d=e.aA,g=e.j,f=e.a9,m=e.c,p=e.a8,v=e.aa,h=e.H,b=e.A,y=e.J,x=e.au,k=e.g,S=e.a1,w=e.aZ,C=e.aC,M=e.aF,V=e.I,I=e.S,B=e.ac,A=e.Y,E=e.Z,z=e.aT,T=e.a_,$=e.ao,L=e.N,P=e.a$,W=e.K,j=e.b0,q=e.X},e=>{F=e.C,H=e.c}],execute:function(){let t=0;function N(e){return Array.isArray(e)?!e.length:0!==e&&!e}function R(e,t){const{message:a}=t;return o(a)?a(e,t):a||""}function D({target:e}){e.composing=!0}function K({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function O(e){return[...e].length}function X(e,t){return[...e].slice(0,t).join("")}const[Y,Z]=c("field"),J={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:A,max:Number,min:Number,formatter:Function,clearIcon:I("clear"),modelValue:B(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:I("focus"),formatTrigger:I("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},_=u({},H,J,{rows:A,type:I("text"),rules:Array,autosize:[Boolean,Object],labelWidth:A,labelClass:E,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var G=s({name:Y,props:_,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:o,slots:s}){const u=function(){const e=a(),{name:l="unknown"}=(null==e?void 0:e.type)||{};return`${l}-${++t}`}(),c=d({status:"unvalidated",focused:!1,validateMessage:""}),I=g(),B=g(),A=g(),{parent:E}=f(z),q=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},H=t=>S(e[t])?e[t]:E&&S(E.props[t])?E.props[t]:void 0,Y=m(()=>{const t=H("readonly");if(e.clearable&&!t){const t=""!==q(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&c.focused;return t&&a}return!1}),J=m(()=>A.value&&s.input?A.value():e.modelValue),_=m(()=>{var t;const a=H("required");return"auto"===a?null==(t=e.rules)?void 0:t.some(e=>e.required):a}),G=e=>e.reduce((e,t)=>e.then(()=>{if("failed"===c.status)return;let{value:e}=J;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(N(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return c.status="failed",void(c.validateMessage=R(e,t));if(t.validator){if(N(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise(a=>{const l=t.validator(e,t);i(l)?l.then(a):a(l)})}(e,t).then(a=>{a&&"string"==typeof a?(c.status="failed",c.validateMessage=a):!1===a&&(c.status="failed",c.validateMessage=R(e,t))})}}),Promise.resolve()),Q=()=>{c.status="unvalidated",c.validateMessage=""},U=()=>o("endValidate",{status:c.status,message:c.validateMessage}),ee=(t=e.rules)=>new Promise(a=>{Q(),t?(o("startValidate"),G(t).then(()=>{"failed"===c.status?(a({name:e.name,message:c.validateMessage}),U()):(c.status="passed",a(),U())})):a()}),te=t=>{if(E&&e.rules){const{validateTrigger:a}=E.props,l=T(a).includes(t),r=e.rules.filter(e=>e.trigger?T(e.trigger).includes(t):l);r.length&&ee(r)}},ae=(t,a="onChange")=>{var l,r;const n=t;t=(t=>{var a;const{maxlength:l}=e;if(S(l)&&O(t)>+l){const e=q();if(e&&O(e)===+l)return e;const r=null==(a=I.value)?void 0:a.selectionEnd;if(c.focused&&r){const e=[...t],a=e.length-+l;return e.splice(r-a,a),e.join("")}return X(t,+l)}return t})(t);const i=O(n)-O(t);if("number"===e.type||"digit"===e.type){const n="number"===e.type;if(t=w(t,n,n),"onBlur"===a&&""!==t&&(void 0!==e.min||void 0!==e.max)){const a=C(+t,null!=(l=e.min)?l:-1/0,null!=(r=e.max)?r:1/0);+t!==a&&(t=a.toString())}}let s=0;if(e.formatter&&a===e.formatTrigger){const{formatter:a,maxlength:l}=e;if(t=a(t),S(l)&&O(t)>+l&&(t=X(t,+l)),I.value&&c.focused){const{selectionEnd:e}=I.value,t=X(n,e);s=O(a(t))-O(t)}}if(I.value&&I.value.value!==t)if(c.focused){let{selectionStart:e,selectionEnd:a}=I.value;if(I.value.value=t,S(e)&&S(a)){const l=O(t);i?(e-=i,a-=i):s&&(e+=s,a+=s),I.value.setSelectionRange(Math.min(e,l),Math.min(a,l))}}else I.value.value=t;t!==e.modelValue&&o("update:modelValue",t)},le=e=>{e.target.composing||ae(e.target.value)},re=()=>{var e;return null==(e=I.value)?void 0:e.blur()},ne=()=>{var e;return null==(e=I.value)?void 0:e.focus()},oe=()=>{const t=I.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const a=l();e.style.height="auto";let o=e.scrollHeight;if(r(t)){const{maxHeight:e,minHeight:a}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==a&&(o=Math.max(o,a))}o&&(e.style.height=`${o}px`,n(a))}(t,e.autosize)},ie=e=>{c.focused=!0,o("focus",e),y(oe),H("readonly")&&re()},se=e=>{c.focused=!1,ae(q(),"onBlur"),o("blur",e),H("readonly")||(te("onBlur"),y(oe),P())},ue=e=>o("clickInput",e),ce=e=>o("clickLeftIcon",e),de=e=>o("clickRightIcon",e),ge=m(()=>"boolean"==typeof e.error?e.error:!(!E||!E.props.showError||"failed"!==c.status)||void 0),fe=m(()=>{const e=H("labelWidth"),t=H("labelAlign");if(e&&"top"!==t)return{width:p(e)}}),me=t=>{13===t.keyCode&&(E&&E.props.submitOnEnter||"textarea"===e.type||M(t),"search"===e.type&&re()),o("keypress",t)},pe=()=>e.id||`${u}-input`,ve=()=>{const t=Z("control",[H("inputAlign"),{error:ge.value,custom:!!s.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(s.input)return k("div",{class:t,onClick:ue},[s.input()]);const a={id:pe(),ref:I,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:H("disabled"),readonly:H("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${u}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:se,onFocus:ie,onInput:le,onClick:ue,onChange:K,onKeypress:me,onCompositionend:K,onCompositionstart:D};return"textarea"===e.type?k("textarea",L(a,{inputmode:e.inputmode}),null):k("input",L((l=e.type,r=e.inputmode,"number"===l&&(l="text",null!=r||(r="decimal")),"digit"===l&&(l="tel",null!=r||(r="numeric")),{type:l,inputmode:r}),a),null);var l,r},he=()=>{const t=s["right-icon"];if(e.rightIcon||t)return k("div",{class:Z("right-icon"),onClick:de},[t?t():k(V,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},be=()=>{if(e.showWordLimit&&e.maxlength){const t=O(q());return k("div",{class:Z("word-limit")},[k("span",{class:Z("word-num")},[t]),$("/"),e.maxlength])}},ye=()=>{if(E&&!1===E.props.showErrorMessage)return;const t=e.errorMessage||c.validateMessage;if(t){const e=s["error-message"],a=H("errorMessageAlign");return k("div",{class:Z("error-message",a)},[e?e({message:t}):t])}},xe=()=>[k("div",{class:Z("body")},[ve(),Y.value&&k(V,{ref:B,name:e.clearIcon,class:Z("clear")},null),he(),s.button&&k("div",{class:Z("button")},[s.button()])]),be(),ye()];return v({blur:re,focus:ne,validate:ee,formValue:J,resetValidation:Q,getValidationStatus:()=>c.status}),W(j,{customValue:A,resetValidation:Q,validateWithTrigger:te}),h(()=>e.modelValue,()=>{ae(q()),Q(),te("onChange"),y(oe)}),b(()=>{ae(q(),e.formatTrigger),y(oe)}),x("touchstart",e=>{M(e),o("update:modelValue",""),o("clear",e)},{target:m(()=>{var e;return null==(e=B.value)?void 0:e.$el})}),()=>{const t=H("disabled"),a=H("labelAlign"),l=(()=>{const t=s["left-icon"];if(e.leftIcon||t)return k("div",{class:Z("left-icon"),onClick:ce},[t?t():k(V,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return k(F,{size:e.size,class:Z({error:ge.value,disabled:t,[`label-${a}`]:a}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:fe.value,valueClass:Z("value"),titleClass:[Z("label",[a,{required:_.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:l&&"top"!==a?()=>l:null,title:()=>{const t=(()=>{const t=H("labelWidth"),a=H("labelAlign"),l=H("colon")?":":"";return s.label?[s.label(),l]:e.label?k("label",{id:`${u}-label`,for:s.input?void 0:pe(),"data-allow-mismatch":"attribute",onClick:e=>{M(e),ne()},style:"top"===a&&t?{width:p(t)}:void 0},[e.label+l]):void 0})();return"top"===a?[l,t].filter(Boolean):t||[]},value:xe,extra:s.extra})}}});e("F",q(G))}}});
